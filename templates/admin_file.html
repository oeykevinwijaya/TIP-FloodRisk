<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>File Management</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-white font-sans leading-normal tracking-normal">
    <!-- Menu Button -->
    <button
      id="sidebar-toggle"
      class="text-white focus:outline-none bg-gray-700 p-2.5 fixed top-2.5 left-2.5 z-30"
    >
      <svg class="fill-current h-6 w-6" viewBox="0 0 24 24">
        <path d="M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"></path>
      </svg>
    </button>

    <!-- Sidebar -->
    <div
      id="sidebar"
      class="transform -translate-x-full fixed inset-y-0 left-0 w-64 space-y-6 py-7 px-2 z-20 bg-white shadow-md transition-transform duration-500 ease-in-out"
      style="will-change: transform"
    >
      <a href="#" class="text-gray-800 flex items-center space-x-2 px-4">
        <span class="text-2xl font-medium mt-10">Menu</span>
      </a>
      <!-- Sidebar content -->
      <nav class="text-black text-base">
        <a
          href="admin_page_alert.html"
          class="flex items-center justify-center hover:border-l-4 hover:border-gray-700 px-10 py-5 border-t border-b border-gray-300 text-sm"
        >
          User Alter Management
        </a>
        <a
          href="data_management.html"
          class="flex items-center justify-center hover:border-l-4 hover:border-gray-700 px-10 py-5 border-t border-b border-gray-300 text-sm"
        >
          Data Management
        </a>
        <a
          href="admin_access.html"
          class="flex items-center justify-center hover:border-l-4 hover:border-gray-700 px-10 py-5 border-t border-b border-gray-300 text-sm"
        >
          Admin Management
        </a>
        <a
          href="email.html"
          class="flex items-center justify-center hover:border-l-4 hover:border-gray-700 px-10 py-5 border-t border-b border-gray-300 text-sm"
        >
          Email
        </a>
        <a
          href="admin_file"
          class="flex items-center justify-center hover:border-l-4 hover:border-gray-700 px-10 py-5 border-t border-b border-gray-300 text-sm"
        >
          File Management
        </a>
        <a
          href="admin_faq"
          class="flex items-center justify-center hover:border-l-4 hover:border-gray-700 px-10 py-5 border-t border-b border-gray-300 text-sm"
        >
          FAQ Management
        </a>
        <a
          href="weather_forecast.html"
          class="flex items-center justify-center hover:border-l-4 hover:border-gray-700 px-10 py-5 border-t border-b border-gray-300 text-sm mt-44"
        >
          Home Page
        </a>
      </nav>
    </div>

    <!-- Header -->
    <nav class="bg-gray-700 p-4 fixed w-full z-10">
      <div class="flex items-center justify-between flex-wrap">
        <div class="flex items-center flex-shrink-0 text-white mr-6">
          <span class="font-semibold text-xl tracking-tight mx-14"
            >Hong Kong Flood</span
          >
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main
      class="p-8 transition-padding duration-500 ease-in-out"
      id="main-content"
      style="will-change: padding"
    >
      <!-- Top black area-->
      <div class="h-[55px] bg-gray-700"></div>
      <!-- Title-->
      <div class="overflow-hidden mx-10 border-b border-gray-700 pb-2">
        <div class="flex justify-between items-center mx-10 mt-8 p-5">
          <div class="font-bold text-xl">File Management</div>
        </div>
      </div>
      <!-- Table-->
      <div class="container mx-auto px-4 py-6">
        <form method="POST" enctype="multipart/form-data" class="mb-4">
          <input
            type="file"
            name="file"
            class="border border-gray-300 p-2 rounded"
          />
          <button
            type="submit"
            class="bg-gray-600 hover:bg-gray-800 text-white font-bold py-2 px-4 rounded"
          >
            Upload
          </button>
        </form>

        <table class="w-full text-left shadow-md rounded-lg overflow-hidden">
          <thead class="bg-gray-500 text-white">
            <tr>
              <th class="px-4 py-2">File Name</th>
              <th class="px-4 py-2 text-right">Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for file in files %}
            <tr class="bg-white border-b">
              <td class="px-4 py-2">{{ file }}</td>
              <td class="px-4 py-2 text-right">
                <form action="{{ url_for('delete_file') }}" method="post">
                  <input type="hidden" name="filename" value="{{ file }}" />
                  <button
                    type="submit"
                    class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded mt-2"
                  >
                    Delete
                  </button>
                </form>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </main>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
  </body>
</html>
